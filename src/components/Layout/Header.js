"use client";
import FilterModal from "./Modal.js";
import { useState } from "react";
import { useLanguage } from "../contexts/LanguageContext.js";
import { useData } from "../contexts/DataContext.js";

const cities = ["Tbilisi", "Kutaisi", "Batumi", "Zugdidi"];
const statuses = ["Standart User", "Student", "Prisoner", "Disabled Person"];
const times = ["Issued in 1 day", "Issued in 3 days", "Issued in 5 days", "Issued in 10 days"];



const W_names = ["ანანო", "ანუკი", "ბაია", "ბარბარე", "ბედისა", "დარეჯან", "დარეჯანი", "ეკატერინე", "ელენე", "ელისაბედ", "ელისო", "ენძელა", "ეთერ", "ეთერი", "გულისა", "ირინე", "იზოლდა", "ქეთევან", "ქეთო", "ხათუნა", "ლალი", "მადონა", "მაყვალა", "მანანა", "მარიამი", "მელანო", "მზია", "ნანული", "ნათელა", "ნათია", "ნესტან", "ნესტანი", "რუსიკო", "რუსკა", "რუსუდან", "რუსუდანი", "სოფიო", "თამარი", "თეონა", "თინათინ", "თინათინი", "ცისანა", "ცისია", "ციური", "ვარდო", "ვერიკო"];
const M_names = ["აკაკი", "ალექსანდრე", "ამბროსი", "ამირან", "ანდრია", "ანრი", "ანზორ", "არჩილ", "ავქსენტი", "ავთანდილ", "ავთო", "ბაადურ", "ბადრი", "ბესარიონ", "ბესო", "ბიძინა", "დავით", "დავითი", "ერეკლე", "გაიოზ", "გელა", "გიო", "გიორგი", "გივი", "გოჩა", "გოგა", "გოგი", "გრიგოლ", "ილია", "იმედა", "იოანე", "იოსებ", "ირაკლი", "იური", "ივანე", "კობა", "კონსტანტინე", "კორნელი", "ლადო", "ლაშა", "ლევან", "მაქსიმე", "მალხაზ", "მალხაზი", "მამუკა", "მიხეილ", "მიშო", "მურთაზ", "ნიკოლოზ", "ნიკუშა", "ოქროპირ", "ოთარ", "ფრიდონ", "ფრიდონი", "რამაზ", "რამაზი", "რევაზ", "რევაზი", "რეზიკო", "როსტომ", "სერგო", "შალვა", "სიმონი", "სოსო", "სტეფანე", "თამაზ", "თამაზი", "თედორე", "თეიმურაზ", "თეიმურაზი", "თემო", "თემურ", "თემური", "თენგიზ", "ტერენტი", "თორნიკე", "ვახტანგ", "ვანო", "ვარლამ", "ვაჟა", "ვეფხია", "ვლადიმერ", "ზაალ", "ზაქარია", "ზურაბ", "ზვიად", "ზვიადი"];
const names = W_names.concat(M_names);

const surnames = ["ჯიში ", "წინა ", "გელაშვილი ", "მაისურაძე ", "გიორგაძე ", "წიკლაური ", "ლომიძე ", "მამედოვა ", "ცხოიძე ", "ქურდობა ", "ბოლხვაძე ", "ჩიხლაძე ", "ხაჩიშვილი ", "აბულაძე ", "მიქელაძე ", "ტაბატაძე ", "მედოლიშვილი ", "შენგელია ", "გოგოლაძე ", "დიასამიძე ", "მახარაძე ", "აბასი ", "დოლიძე ", "მარუაშვილი ", "ძავაშვილი ", "კვარაცხელია ", "ალიევა ", "ცერცვაძე ", "ქავთარაძე ", "ქათამაძე ", "ძნელაძე ", "მეტრეველი ", "დუმბაძე ", "ფუნჯი ", "ჯაფარიძე ", "ბარბაქაძე ", "სურმანიძე ", "დავითაძე ", "სამხარაძე ", "კობახია ", "მელაძე ", "ძველი ", "არ ითამაშო ", "ჭელიძე ", "ბარიშვილი ", "თურმანიძე ", "გაშვება ", "ჩუბინიძე ", "დარეკეთ ", "მოდებაძე ", "ჯინჭარაძე ", "ძანაშვილი ", "ბაირამოვი ", "ლობჯანიძე ", "მუმლაძე ", "კურტანიძე ", "რაზმაძე ", "თოდუა ", "კიკნაძე ", "კალანდაძე ", "შემოწირულობა ", "აბციაური ", "შაინიძე ", "მესხი ", "აბრამიშვილი ", "ზოიძე ", "დვალიშვილი ", "კახიძე ", "გორგაძე ", "გურგენიძე ", "რობაქიძე ", "ნადირაძე ", "სვანიძე ", "ბერაძე ", "გუსეინოვი ", "გოგიტიძე ", "ჭანტურია ", "მამულაშვილი ", "ხვედელიძე ", "ჯიჯია ", "მექვაბიშვილი ", "ხურიძე ", "კილაძე ", "გამორთულია ", "გასანოვი ", "ლაბაძე ", "მამრაძე ", "მჭედლიძე ", "გიგაური ", "მიქაძე ", "დანიელი ", "ახმედოვი ", "ბრეგვაძე ", "ფიფია ", "კუპატაძე ", "აბესაძე ", "გაფრინდაშვილი ", "სიჭინავა ", "წერეთელი ", "გუსეინოვა ", "წულაია ", "რუხაძე ", "ხარჩილავა ", "მჟავანაძე ", "თევზაძე ", "გაჩეჩილაძე ", "ბარამიძე ", "ძველი ", "ხუგაშვილი ", "ჭუმბურიძე ", "ბაირამოვა ", "გრიგალაშვილი ", "ღონღაძე ", "ახვლედიანი ", "ფერაძე ", "ისმაილოვა ", "იპოვეთ ისინი ", "ბერუაშვილი ", "დოხაძე ", "სირაძე ", "ახვლედიანი ", "მგელაძე ", "მეგრელიშვილი ", "ნაჩხებია ", "ჩადუნელი ", "დავითაშვილი ", "მახარაშვილი ", "ბექაური ", "გასანოვა ", "სარქისიანი ", "ფხაკაძე ", "წვეულებები ", "მაღლაკელიძე ", "ბიაძე ", "გოგიაშვილი ", "რეხვიაშვილი ", "ჩიქოვანი ", "ჯორჯოლიანი ", "მიმოხილვა ", "მუსაევი ", "გოგალაძე ", "პეტრიაშვილი ", "წინა ", "კაკაბაძე ", "ლიპარტელიანი ", "შალამბერიძე ", "ასათიელები ", "მთლიანი ", "მაჭავარიანი ", "ნაცვლიშვილი ", "თავაძე ", "ონიანი ", "ბერიშვილი ", "წელაშვილი ", "ღვინიაშვილი ", "ტალახაძე ", "ლომთაძე ", "ლორთქიფანიძე ", "ცუცქირიძე ", "ბლიაძე ", "შონია ", "რამიშვილი ", "ბაქრაძე ", "კანდელაკი ", "ახმედოვა ", "გოგუაძე ", "ონიანი ", "კონცელიძე ", "ასათიანი ", "ჯრენტი ", "ნაკაშიძე ", "ბახტაძე ", "ქართველიშვილი ", "დევაძე ", "ლეჟავა ", "ღლონტი ", "სარალიძე ", "ჩხიკვაძე ", "მახათაძე ", "ნადირაშვილი ", "ფეიქრიშვილი ", "ოქროპირიძე ", "დვალი ", "ქუთათელაძე ", "მინდიაშვილი ", "არაბული ", "სამნიძე ", "ბერიაშვილი ", "მათიაშვილი ", "დალაქიშვილი ", "ხაჩატურიანი ", "საფუარი ", "თოფურია ", "კერესელიძე ", "კარაევა ", "პაპიაშვილი ", "მიქავა ", "დღე ", "გაბრიაძე ", "კვინიკაძე ", "ცაცანიძე ", "ბურდული ", "წიქარიშვილი ", "გოგიშვილი ", "კუბლაშვილი ", "პრეს ", "სწრაფი ", "ბერზენეიშვილი ", "იმერლიშვილი ", "ვაშახმაძე ", "ჭეიშვილი ", "მუსაევა ", "ხოზრევანიძე ", "საველიძე ", "ნებირიძე ", "ახალაია ", "შოკოლადი ", "გულიაშვილი ", "თავართქილაძე ", "წურწუმია ", "ჭიღლაძე ", "ბაკურაძე ", "პავლიაშვილი ", "ხიპიანი ", "გიჟები ", "ვალიევი ", "ტყემალაძე ", "გორგილაძე ", "დამატება ", "შარაშიძე ", "გვასალია ", "გოგსაძე ", "გელაძე ", "ჯიშკარიანი ", "ქაჯაია ", "ლაცაბიძე ", "ჩხარტიშვილი ", "კაკაშვილი ", "ხმალაძე ", "ადეიშვილი ", "გოგია ", "პალმა ", "დემეტრაშვილი ", "მეფარიშვილი ", "მერებაშვილი ", "ნატროშვილი ", "სხირტლაძე ", "ჩარეყიშვილი ", "ხარაიშვილი ", "გოგინაშვილი ", "ხალვაში ", "ბასილაძე ", "ხატიაშვილი ", "ხიზანიშვილი ", "შეავსეთ ისინი ", "ჩიტიშვილი ", "გველესიანი ", "ჯაჯვანი ", "არუთინოვი ", "ბერეა ", "ლურსმანაშვილი ", "ტრუში ", "ჯანაშია ", "ნიკოლაიშვილი ", "სათირიშვილი ", "ძანძავა ", "გვენეტაძე ", "კობერიძე ", "მერაბიშვილი ", "ხიფშიძე ", "ყავლელაშვილი ", "ირემაშვილი ", "ჭარელიძე ", "სულაბერიძე ", "კინწურაშვილი ", "მოდი ", "კოხრეიძე ", "ხაფრიძე ", "ჭკადუა ", "ბუცხრიკიძე ", "დარჩია ", "გიორგობიანი ", "კიკვაძე ", "წულუკიძე ", "ალადაშვილი ", "სანთელი ", "კევლიშვილი ", "მოსიაშვილი ", "ალავიძე ", "მანაგაძე ", "ჩინჩალაძე ", "ნიჟარაძე ", "ყურბანოვი ", "მიმინოშვილი ", "ძველები ", "კვირიკაშვილი ", "წიგნი ", "მამულაძე ", "სოფრომაძე ", "ქარცივაძე ", "დათიაშვილი ", "გაჯიევი ", "ანთაძე ", "თედორაძე ", "ახობაძე ", "ქორიძე ", "როსტიაშვილი ", "სიმონიშვილი ", "ჯალაღონია ", "ჭინჭარაული ", "კირვალძე ", "პაპაშვილი ", "ბიგინაშვილი ", "ნემსაძე ", "ციცნაძე ", "იაშვილი ", "ფოფხაძე ", "ქარდავა ", "დევიძე ", "კირკიტაძე ", "ინასარიძე ", "შავი პარასკევი ", "ნაბიევი ", "ავალიანი ", "ჭიჭეიშვილი ", "ჩაგანავა ", "ვარშანიძე ", "ბოროტება ", "კილასონია ", "გოგიჩაიშვილი ", "ქვატაძე ", "ბეგიაშვილი ", "ბიძიონიშვილი ", "მგალობლიშვილი ", "არჩვაძე ", "ხალილოვი ", "აკობიანი ", "თაბაგარი ", "ფირცხალავა ", "ელიზბარაშვილი ", "სილაგაძე ", "ხარაზიშვილი ", "ბალიაშვილი ", "ადამია ", "დახმარება ", "ბურძენაძე ", "ყურდაძე "];


function Generate_Data(num) 
{
  const data = [];
  for (let i = 0; i < num; i++) {
    const random11DigitString = () => Math.floor(10000000000 + Math.random() * 90000000000).toString();
    const ran = (min, max) => {
      const number = Math.floor(Math.random() * (max - min + 1) + min);
      return number < 10 ? `0${number}` : number.toString();
    };
    data.push({
      recieve: `2024-${ran(1, 12)}-${ran(1, 28)}`,
      sent: `2024-${ran(1, 12)}-${ran(1, 28)}`,
      document_number: random11DigitString(),
      private_number: random11DigitString(),
      name: names[Math.floor(Math.random() * names.length)],
      surname: surnames[Math.floor(Math.random() * surnames.length)],
      city: cities[Math.floor(Math.random() * cities.length)],
      status: statuses[Math.floor(Math.random() * statuses.length)],
      time: times[Math.floor(Math.random() * times.length)],
    });
  }
  return data;
}

export default function Header( ) {
  const { updateData } = useData();
  const { lang, toggleLanguage } = useLanguage();
  const [isModalOpen, setModalOpen] = useState(false);
  const [numRecords, setNumRecords] = useState(0);

  const openFilterModal = () => setModalOpen(true);
  const closeFilterModal = () => setModalOpen(false);
  const handleGenerateData = () => {
    const data = Generate_Data(numRecords);
    updateData(data);
  };

  const [isDarkMode, setIsDarkMode] = useState(false);


  const toggleTheme = () => {
    const htmlElement = document.documentElement;
    if (htmlElement.classList.contains("dark")) {
      htmlElement.classList.remove("dark");
      setIsDarkMode(false)
    } else {
      htmlElement.classList.add("dark");
      setIsDarkMode(true);
    }
  };


  return (
    <div>
      <header className="flex justify-between items-center bg-white dark:bg-gray-800 p-4 shadow-md w-full border-b border-black">
        <div className="flex items-center">
          <a href="/" className="flex items-center space-x-2">
            <img src="/image.png" alt="Logo" className="h-14 w-1000" />
          </a>
        </div>
        <div className="relative flex gap-4">
          <div className="relative">
            <input
              type="text"
              placeholder={lang === "EN" ? "Search" : "ძებნა"}
              className="w-96 px-4 py-2 border rounded-lg dark:border-gray-700 dark:bg-gray-800"
            />
            <button
              onClick={openFilterModal}
              className="absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400"
            >
              &#9881;
            </button>
          </div>
          <div className="flex items-center gap-2">
            <input
              type="text"
              value={numRecords}
              onChange={(e) => setNumRecords(e.target.value)}
              placeholder={lang === "EN" ? "Number" : "რაოდენობა"}
              className="w-28 px-4 py-2 border rounded-lg dark:border-gray-700 dark:bg-gray-800"
            />
            <button
              onClick={handleGenerateData}
              className="bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:bg-blue-700 transform hover:scale-105 transition duration-300"
            >
              {lang === "EN" ? "Generate" : "შექმნა"}
            </button>
          </div>
          <button
            onClick={toggleLanguage}
            className="bg-purple-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:bg-purple-700 transform hover:scale-105 transition duration-300"
          >
            {lang === "EN" ? "GE" : "EN"}
          </button>
          <button
            onClick={toggleTheme}
            className="bg-gray-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:bg-gray-700 transform hover:scale-105 transition duration-300"
          >
            {isDarkMode ? "Light" : "Dark"}
          </button>
        </div>
      </header>
      <FilterModal
        isModalOpen={isModalOpen}
        closeFilterModal={closeFilterModal}
        lang={lang}
      />
    </div>
  );
}
